jQuery(document).ready(function($){var rtl;$(".del-recipe-gallery-link").on("click",function(){$(this).next().magnificPopup("open")}),$(".del-recipe-gallery").each(function(){$(this).magnificPopup({delegate:"a",gallery:{enabled:!0},type:"image"})}),$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(event){var target;location.pathname.replace(/^\//,"")!=this.pathname.replace(/^\//,"")||location.hostname!=this.hostname||(target=(target=$(this.hash)).length?target:$("[name="+this.hash.slice(1)+"]")).length&&(event.preventDefault(),$("html, body").animate({scrollTop:target.offset().top},1e3,function(){}))}),$(function(){math.config({number:"number"}),$(".dr-scale-ingredients").bind("keyup mouseup",function(){var new_servings=$(this).val(),new_servings=math.number(new_servings),default_print_attrs=$("a.dr-print-trigger").attr("href").split("?"),new_print_attrs="print_recipe=true&recipe_servings="+new_servings;$("a.dr-print-trigger").attr("href",default_print_attrs[0]+"?"+new_print_attrs);var recipe=$(this).data("recipe"),original_servings=$(this).data("original"),original_servings=math.number(original_servings);$(".ingredient_quantity[data-recipe="+recipe+"]").each(function(index){var quantity=$(this).data("original");if(isFinite(quantity)){try{quantity=math.number(quantity)}catch(e){return}new_quantity=math.eval(new_servings*(quantity/original_servings));0!=(new_quantity=math.format(new_quantity,{fraction:"decimal",precision:4}))&&jQuery(this).text(new_quantity)}else{try{quantity=math.fraction(quantity)}catch(e){return}var i,new_quantity=math.eval(quantity/original_servings*new_servings);(new_quantity=math.fraction(new_quantity)).n==new_quantity.d||1==new_quantity.d?jQuery(this).text(new_quantity.n):new_quantity.n>new_quantity.d?(i=parseInt(new_quantity.n/new_quantity.d),new_quantity.n-=i*new_quantity.d,jQuery(this).text(i+"  "+new_quantity.n+"/"+new_quantity.d)):jQuery(this).text(math.format(new_quantity,{fraction:"ratio"}))}})}),$(".dr-instruction-videopop").magnificPopup({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe></div>',patterns:{youtube:{index:"youtube.com/",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"}},srcAction:"iframe_src"}}),$("#dr-vdo-toggle").change(function(e){$(this).is(":checked")?$(".dr-instructions-video").slideDown("slow"):$(".dr-instructions-video").slideUp("slow")}),$(document).find(".dr-comment-form-rating").each(function(){$(this).rateYo({halfStar:!0,onChange:function(rating,rateYoInstance){$(this).parent().find('input[name="rating"]').val(rating)}})})}),rtl=!!$("body").hasClass("rtl"),$(".dr-post-carousel").owlCarousel({items:3,autoplay:!1,loop:!1,nav:!0,dots:!1,rewind:!0,margin:30,autoplaySpeed:800,autoplayTimeout:3e3,rtl:rtl,navText:['<svg xmlns="http://www.w3.org/2000/svg" width="18.479" height="12.689" viewBox="0 0 18.479 12.689"><g transform="translate(17.729 11.628) rotate(180)"><path d="M7820.11-1126.021l5.284,5.284-5.284,5.284" transform="translate(-7808.726 1126.021)" fill="none" stroke="#232323" stroke-linecap="round" stroke-width="1.5"/><path d="M6558.865-354.415H6542.66" transform="translate(-6542.66 359.699)" fill="none" stroke="#232323" stroke-linecap="round" stroke-width="1.5"/></g></svg>','<svg xmlns="http://www.w3.org/2000/svg" width="18.479" height="12.689" viewBox="0 0 18.479 12.689"><g transform="translate(0.75 1.061)"><path d="M7820.11-1126.021l5.284,5.284-5.284,5.284" transform="translate(-7808.726 1126.021)" fill="none" stroke="#232323" stroke-linecap="round" stroke-width="1.5"/><path d="M6558.865-354.415H6542.66" transform="translate(-6542.66 359.699)" fill="none" stroke="#232323" stroke-linecap="round" stroke-width="1.5"/></g></svg>'],responsive:{0:{items:1},768:{items:2},1025:{items:3}}}),$(".js-select2").select2({closeOnSelect:!1,placeholder:"Select filters",allowClear:!0}),$("body").on("change",".dr-search-field select",function(){var choices={};$(".dr-search-field select option").each(function(){$(this).is(":selected")&&(choices.hasOwnProperty($(this).attr("name"))||(choices[$(this).attr("name")]=[]),-1==$.inArray(this.value,choices[$(this).attr("name")])&&choices[$(this).attr("name")].push(this.value))}),nonce=$("#dr-search-nonce").val(),jQuery.ajax({url:delicious_recipes.ajax_url,data:{action:"recipe_search_results",search:choices,nonce:nonce},dataType:"json",type:"post",beforeSend:function(){$(".dr-search-item-wrap").addClass("dr-loading")},success:function(response){var template;response.success&&(template=wp.template("search-block-tmp"),$(".dr-search-item-wrap").html(template(response.data.results)),$(".navigation.pagination .nav-links").addClass("dr-ajax-paginate").html(response.data.pagination))},complete:function(){$(".dr-search-item-wrap").removeClass("dr-loading")}})}),$(document).on("click",".dr-ajax-paginate a.page-numbers",function(e){e.preventDefault();var choices={};$(".dr-search-field select option").each(function(){$(this).is(":selected")&&(choices.hasOwnProperty($(this).attr("name"))||(choices[$(this).attr("name")]=[]),-1==$.inArray(this.value,choices[$(this).attr("name")])&&choices[$(this).attr("name")].push(this.value))}),nonce=$("#dr-search-nonce").val(),jQuery.ajax({url:delicious_recipes.ajax_url,data:{action:"recipe_search_results",search:choices,nonce:nonce,paged:$(this).attr("href").split("=")[1]},dataType:"json",type:"post",beforeSend:function(){$(".dr-search-item-wrap").addClass("dr-loading")},success:function(response){var template;response.success&&(template=wp.template("search-block-tmp"),$(".dr-search-item-wrap").html(template(response.data.results)),$(".navigation.pagination .nav-links").addClass("dr-ajax-paginate").html(response.data.pagination))},complete:function(){$(".dr-search-item-wrap").removeClass("dr-loading")}})}),$(".post-share a.meta-title").click(function(e){e.stopPropagation(),$(this).siblings(".social-networks").slideToggle()}),$(".post-share").click(function(e){e.stopPropagation()}),$("body, html").click(function(){$(".post-share .social-networks").slideUp()}),$(".dr-category a, .post-navigation article .dr-category > span").each(function(){var recipeCatWidth=$(this).width(),recipeCatTitleWidth=$(this).children(".cat-name").outerWidth(),catPullValue=(parseInt(recipeCatTitleWidth)-parseInt(recipeCatWidth))/2;$(this).children(".cat-name").css("left",-catPullValue),$("body").hasClass("rtl")?$(this).children(".cat-name").css({left:"auto",right:-catPullValue}):$(this).children(".cat-name").css("left",-catPullValue)}),$(document).on("click",".like-recipe",function(e){e.preventDefault();var $container=$(this);id=$container.attr("id").split("-").pop(),$.ajax({type:"post",url:delicious_recipes.ajax_url,data:{action:"recipe_likes",id:id},beforeSend:function(){$container.addClass("loading")},success:function(data){$container.attr("title",data.data.likes),$container.addClass("recipe-liked"),$container.removeClass("like-recipe")}}).done(function(){$container.removeClass("loading")})}),$("#dr-recipes-clear-filters").click(function(e){e.preventDefault(),$(".dr-advance-search .advance-search-options select").each(function(){$(this).val(null).trigger("change")})})});